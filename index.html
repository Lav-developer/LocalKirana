<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalKirana - Connect with Local Stores</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-store"></i>
                <span>LocalKirana</span>
            </div>
            <div class="nav-menu">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#stores" class="nav-link">Find Stores</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#how-it-works" class="nav-link">How It Works</a>
                
                <!-- Guest Navigation -->
                <div id="guestNav" class="nav-auth">
                    <button class="btn-primary" onclick="showModal('shopkeeperAuthModal')">Join as Shopkeeper</button>
                    <button class="btn-secondary" onclick="showModal('customerAuthModal')">Customer Login</button>
                </div>
                
                <!-- Customer Navigation -->
                <div id="customerNav" class="nav-auth" style="display: none;">
                    <span class="user-greeting">Welcome, <span id="customerNameNav"></span></span>
                    <button class="btn-outline btn-small" onclick="showModal('customerDashboardModal')">My Dashboard</button>
                    <button class="btn-outline btn-small" onclick="showModal('chatModal')">
                        <i class="fas fa-comments"></i>
                        Chat
                        <span id="chatBadge" class="chat-badge" style="display: none;">0</span>
                    </button>
                    <button class="btn-secondary btn-small" onclick="logout()">Logout</button>
                </div>
                
                <!-- Shopkeeper Navigation -->
                <div id="shopkeeperNav" class="nav-auth" style="display: none;">
                    <span class="user-greeting">Welcome, <span id="shopkeeperNameNav"></span></span>
                    <button class="btn-outline btn-small" onclick="showModal('shopkeeperDashboardModal')">Dashboard</button>
                    <button class="btn-outline btn-small" onclick="showModal('chatModal')">
                        <i class="fas fa-comments"></i>
                        Chat
                        <span id="chatBadgeShop" class="chat-badge" style="display: none;">0</span>
                    </button>
                    <button class="btn-secondary btn-small" onclick="logout()">Logout</button>
                </div>
            </div>
            <div class="nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Connect with Your Local Kirana Stores</h1>
            <p>Discover nearby stores, book items, and support your local community. Join thousands of customers and shopkeepers already using LocalKirana.</p>
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-number" id="storeCount">50+</div>
                    <div class="stat-label">Active Stores</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="customerCount">1000+</div>
                    <div class="stat-label">Happy Customers</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="bookingCount">5000+</div>
                    <div class="stat-label">Items Booked</div>
                </div>
            </div>
            <div class="hero-buttons">
                <button class="btn-primary btn-large" onclick="showModal('customerAuthModal')">
                    <i class="fas fa-shopping-cart"></i>
                    Start Shopping
                </button>
                <button class="btn-outline btn-large" onclick="showModal('shopkeeperAuthModal')">
                    <i class="fas fa-store"></i>
                    Register Your Store
                </button>
            </div>
        </div>
        <div class="hero-image">
            <img src="https://images.pexels.com/photos/264636/pexels-photo-264636.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Local Store">
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works">
        <div class="container">
            <h2>How LocalKirana Works</h2>
            <div class="steps-container">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Register & Login</h3>
                        <p>Create your account as a customer or register your store as a shopkeeper</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Discover Stores</h3>
                        <p>Find nearby kirana stores based on your location and browse their products</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Book or Request</h3>
                        <p>Book available items or request items that aren't currently listed</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Connect & Collect</h3>
                        <p>Get contacted by the shopkeeper and collect your items at your convenience</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h2>Why Choose LocalKirana?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>Find Nearby Stores</h3>
                    <p>Discover local kirana stores in your area with real-time location tracking</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-calendar-check"></i>
                    <h3>Book Items</h3>
                    <p>Reserve products in advance and pick them up at your convenience</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-bell"></i>
                    <h3>Request Items</h3>
                    <p>Can't find what you need? Request items and get notified when available</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-handshake"></i>
                    <h3>Support Local</h3>
                    <p>Help your local community thrive by shopping at neighborhood stores</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Secure & Reliable</h3>
                    <p>Your data is safe with us. Secure authentication and reliable service</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-mobile-alt"></i>
                    <h3>Mobile Friendly</h3>
                    <p>Access LocalKirana from any device - desktop, tablet, or mobile</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Stores Section -->
    <section id="stores" class="stores-section">
        <div class="container">
            <div class="section-header">
                <h2>Find Local Stores</h2>
                <div class="search-container">
                    <input type="text" id="locationSearch" placeholder="Enter your location...">
                    <button onclick="searchStores()" class="btn-primary">
                        <i class="fas fa-search"></i>
                        Search
                    </button>
                </div>
            </div>
            <div id="storesGrid" class="stores-grid">
                <!-- Stores will be loaded here -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About LocalKirana</h2>
                    <p>LocalKirana is more than just a platform - it's a bridge connecting local communities. We believe in the power of neighborhood commerce and the importance of supporting local businesses.</p>
                    <p>Our mission is to digitize the traditional kirana store experience while maintaining the personal touch that makes local shopping special. Whether you're a customer looking for convenience or a shopkeeper wanting to expand your reach, LocalKirana is here to help.</p>
                    <div class="about-features">
                        <div class="about-feature">
                            <i class="fas fa-heart"></i>
                            <span>Community First</span>
                        </div>
                        <div class="about-feature">
                            <i class="fas fa-leaf"></i>
                            <span>Sustainable Shopping</span>
                        </div>
                        <div class="about-feature">
                            <i class="fas fa-users"></i>
                            <span>Local Support</span>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <img src="https://images.pexels.com/photos/1005638/pexels-photo-1005638.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Community Shopping">
                </div>
            </div>
        </div>
    </section>

    <!-- Customer Authentication Modal -->
    <div id="customerAuthModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="customerAuthTitle">Customer Login</h2>
                <span class="close" onclick="hideModal('customerAuthModal')">&times;</span>
            </div>
            <div class="auth-tabs">
                <button class="tab-btn active" onclick="switchTab('customerLogin')">Login</button>
                <button class="tab-btn" onclick="switchTab('customerRegister')">Register</button>
            </div>
            
            <!-- Customer Login Form -->
            <form id="customerLoginForm" class="form auth-form">
                <div class="form-group">
                    <label for="customerLoginPhone">Phone Number</label>
                    <input type="tel" id="customerLoginPhone" required>
                </div>
                <div class="form-group">
                    <label for="customerLoginPassword">Password</label>
                    <input type="password" id="customerLoginPassword" required>
                </div>
                <button type="submit" class="btn-primary btn-full">Login</button>
            </form>
            
            <!-- Customer Register Form -->
            <form id="customerRegisterForm" class="form auth-form" style="display: none;">
                <div class="form-group">
                    <label for="customerRegisterName">Full Name</label>
                    <input type="text" id="customerRegisterName" required>
                </div>
                <div class="form-group">
                    <label for="customerRegisterPhone">Phone Number</label>
                    <input type="tel" id="customerRegisterPhone" required>
                </div>
                <div class="form-group">
                    <label for="customerRegisterEmail">Email</label>
                    <input type="email" id="customerRegisterEmail" required>
                </div>
                <div class="form-group">
                    <label for="customerRegisterLocation">Your Location</label>
                    <input type="text" id="customerRegisterLocation" placeholder="Enter your area/pincode" required>
                </div>
                <div class="form-group">
                    <label for="customerRegisterPassword">Password</label>
                    <input type="password" id="customerRegisterPassword" required>
                </div>
                <div class="form-group">
                    <label for="customerConfirmPassword">Confirm Password</label>
                    <input type="password" id="customerConfirmPassword" required>
                </div>
                <button type="submit" class="btn-primary btn-full">Register</button>
            </form>
        </div>
    </div>

    <!-- Shopkeeper Authentication Modal -->
    <div id="shopkeeperAuthModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="shopkeeperAuthTitle">Shopkeeper Login</h2>
                <span class="close" onclick="hideModal('shopkeeperAuthModal')">&times;</span>
            </div>
            <div class="auth-tabs">
                <button class="tab-btn active" onclick="switchTab('shopkeeperLogin')">Login</button>
                <button class="tab-btn" onclick="switchTab('shopkeeperRegister')">Register Store</button>
            </div>
            
            <!-- Shopkeeper Login Form -->
            <form id="shopkeeperLoginForm" class="form auth-form">
                <div class="form-group">
                    <label for="shopkeeperLoginPhone">Phone Number</label>
                    <input type="tel" id="shopkeeperLoginPhone" required>
                </div>
                <div class="form-group">
                    <label for="shopkeeperLoginPassword">Password</label>
                    <input type="password" id="shopkeeperLoginPassword" required>
                </div>
                <button type="submit" class="btn-primary btn-full">Login</button>
            </form>
            
            <!-- Shopkeeper Register Form -->
            <form id="shopkeeperRegisterForm" class="form auth-form" style="display: none;">
                <div class="form-group">
                    <label for="shopName">Shop Name</label>
                    <input type="text" id="shopName" required>
                </div>
                <div class="form-group">
                    <label for="ownerName">Owner Name</label>
                    <input type="text" id="ownerName" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="address">Complete Address</label>
                    <textarea id="address" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="pincode">Pincode</label>
                    <input type="text" id="pincode" required>
                </div>
                <div class="form-group">
                    <label for="category">Store Category</label>
                    <select id="category" required>
                        <option value="">Select Category</option>
                        <option value="grocery">Grocery Store</option>
                        <option value="medical">Medical Store</option>
                        <option value="stationery">Stationery</option>
                        <option value="electronics">Electronics</option>
                        <option value="general">General Store</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="shopkeeperPassword">Password</label>
                    <input type="password" id="shopkeeperPassword" required>
                </div>
                <div class="form-group">
                    <label for="shopkeeperConfirmPassword">Confirm Password</label>
                    <input type="password" id="shopkeeperConfirmPassword" required>
                </div>
                <button type="submit" class="btn-primary btn-full">Register Store</button>
            </form>
        </div>
    </div>

    <!-- Store Details Modal -->
    <div id="storeModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="storeModalTitle">Store Details</h2>
                <span class="close" onclick="hideModal('storeModal')">&times;</span>
            </div>
            <div id="storeModalContent">
                <!-- Store details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Item Request Modal -->
    <div id="requestModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Request Item</h2>
                <span class="close" onclick="hideModal('requestModal')">&times;</span>
            </div>
            <form id="requestForm" class="form">
                <div class="form-group">
                    <label for="requestItem">Item Name</label>
                    <input type="text" id="requestItem" required>
                </div>
                <div class="form-group">
                    <label for="requestQuantity">Quantity</label>
                    <input type="text" id="requestQuantity" required>
                </div>
                <div class="form-group">
                    <label for="requestDescription">Description (Optional)</label>
                    <textarea id="requestDescription" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary btn-full">Send Request</button>
            </form>
        </div>
    </div>

    <!-- Customer Dashboard Modal -->
    <div id="customerDashboardModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Customer Dashboard</h2>
                <span class="close" onclick="hideModal('customerDashboardModal')">&times;</span>
            </div>
            <div id="customerDashboardContent">
                <!-- Dashboard will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Shopkeeper Dashboard Modal -->
    <div id="shopkeeperDashboardModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Shopkeeper Dashboard</h2>
                <span class="close" onclick="hideModal('shopkeeperDashboardModal')">&times;</span>
            </div>
            <div id="shopkeeperDashboardContent">
                <!-- Dashboard will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="editProfileTitle">Edit Profile</h2>
                <span class="close" onclick="hideModal('editProfileModal')">&times;</span>
            </div>
            <form id="editProfileForm" class="form">
                <div id="editProfileFields">
                    <!-- Profile fields will be loaded here -->
                </div>
                <button type="submit" class="btn-primary btn-full">Update Profile</button>
            </form>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Product</h2>
                <span class="close" onclick="hideModal('addProductModal')">&times;</span>
            </div>
            <form id="addProductForm" class="form">
                <div class="form-group">
                    <label for="productName">Product Name</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label for="productPrice">Price</label>
                    <input type="text" id="productPrice" placeholder="₹100" required>
                </div>
                <div class="form-group">
                    <label for="productAvailable">Available</label>
                    <select id="productAvailable" required>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="productDescription">Description (Optional)</label>
                    <textarea id="productDescription" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary btn-full">Add Product</button>
            </form>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div id="editProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Product</h2>
                <span class="close" onclick="hideModal('editProductModal')">&times;</span>
            </div>
            <form id="editProductForm" class="form">
                <div class="form-group">
                    <label for="editProductName">Product Name</label>
                    <input type="text" id="editProductName" required>
                </div>
                <div class="form-group">
                    <label for="editProductPrice">Price</label>
                    <input type="text" id="editProductPrice" required>
                </div>
                <div class="form-group">
                    <label for="editProductAvailable">Available</label>
                    <select id="editProductAvailable" required>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editProductDescription">Description (Optional)</label>
                    <textarea id="editProductDescription" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary btn-full">Update Product</button>
            </form>
        </div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Chat</h2>
                <span class="close" onclick="hideModal('chatModal')">&times;</span>
            </div>
            <div class="chat-container">
                <div class="chat-sidebar">
                    <div class="chat-search">
                        <input type="text" id="chatSearch" placeholder="Search conversations...">
                    </div>
                    <div id="chatList" class="chat-list">
                        <!-- Chat conversations will be loaded here -->
                    </div>
                </div>
                <div class="chat-main">
                    <div id="chatHeader" class="chat-header">
                        <div class="chat-user-info">
                            <div class="chat-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="chat-user-details">
                                <div class="chat-user-name">Select a conversation</div>
                                <div class="chat-user-status">Click on a chat to start messaging</div>
                            </div>
                        </div>
                    </div>
                    <div id="chatMessages" class="chat-messages">
                        <div class="no-chat-selected">
                            <i class="fas fa-comments"></i>
                            <h3>No conversation selected</h3>
                            <p>Choose a conversation from the sidebar to start chatting</p>
                        </div>
                    </div>
                    <div id="chatInput" class="chat-input" style="display: none;">
                        <form id="chatForm">
                            <input type="text" id="messageInput" placeholder="Type your message..." required>
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-brand">
                        <i class="fas fa-store"></i>
                        <span>LocalKirana</span>
                    </div>
                    <p>Connecting communities through local commerce. Supporting neighborhood businesses and bringing convenience to your doorstep.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#stores">Find Stores</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#how-it-works">How It Works</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>For Businesses</h3>
                    <ul>
                        <li><a href="#" onclick="showModal('shopkeeperAuthModal')">Register Your Store</a></li>
                        <li><a href="#">Business Support</a></li>
                        <li><a href="#">Pricing</a></li>
                        <li><a href="#">Resources</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p><i class="fas fa-envelope"></i> info@localkirana.com</p>
                    <p><i class="fas fa-phone"></i> +91 9876543210</p>
                    <p><i class="fas fa-map-marker-alt"></i> Mumbai, India</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 LocalKirana. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>